import{w as f,u as x}from"./AuthContext-DfHXuJuK.js";import{r,p as w,l as e}from"./chunk-GNGMS2XR-BMTy4fC2.js";import{u as v,H as j,I as c,B as y}from"./index-DoQB_nmN.js";var b="_1o8z8p60",I="_1o8z8p61";function R(){return[{title:"Welcome | React Task Manager"}]}const q=f(function(){var m,d;const[L,t]=r.useState(""),[i,o]=r.useState(!1),{login:p,isAuthenticated:n}=x(),a=w(),{register:l,handleSubmit:g,formState:{errors:s}}=v();r.useEffect(()=>{n&&a("/tasks",{replace:!0})},[n,a]);const h=async u=>{t(""),o(!0),console.log(s);try{await p(u.email,u.password),a("/tasks",{replace:!0})}catch{t("Invalid credentials. Please try again.")}finally{o(!1)}};return e.jsxs("main",{children:[e.jsx(j,{}),e.jsx("p",{style:{maxWidth:"425px",marginBottom:"2rem"},children:"A simple task manager built with React, React Router and TypeScript. Create, organize, and track your tasks with an intuitive interface."}),e.jsxs("form",{className:b,onSubmit:g(h),children:[e.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"500"},children:"Log In"}),e.jsxs("div",{className:I,children:[e.jsx(c,{type:"email",placeholder:"Email",...l("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),error:(m=s.email)==null?void 0:m.message,id:"email"}),e.jsx(c,{type:"password",placeholder:"Password",...l("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),error:(d=s.password)==null?void 0:d.message,id:"password"})]}),e.jsx(y,{as:"input",variant:"submit",disabled:i,"aria-label":"Log In",children:i?"Logging in...":"Log In"})]})]})});export{q as default,R as meta};
